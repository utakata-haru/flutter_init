# アプリケーション仕様書（テンプレート）

> このファイルは第一段階（仕様策定）で更新する、仕様書の雛形です。各項目を埋めていき、合意形成後に最新版として維持します。

## メタ情報
- プロジェクト名: Simple PDF Editor
- バージョン: 1.0.0 (Agreed)
- 最終更新日: 2025-11-19
- 作成者: App_Builder 

## 概要
- コンセプト: 誰でも直感的に使える、シンプルで高速なPDFページ編集ツール
- 目的（解決したい課題）: 複雑な高機能ソフトを使わずに、PDFの結合・分割・整理や簡単な注釈をサクッと行いたいというニーズに応える。
- 背景・文脈: 既存のテキスト編集は技術的制約によりスコープ外とし、日常的に頻度の高い「ページ操作」に特化する。

## ターゲットユーザー・ペルソナ
- 主要ペルソナ: 学生、ビジネスパーソン、一般ユーザー
- ユーザー課題: 「資料をまとめたい」「不要なページを消したい」「スマホ/PCで手軽に回転させたい」
- 利用シナリオ: 
  - 複数の会議資料を1つのPDFにまとめる
  - スキャンした書類の向きを直す
  - 提出書類に簡単なメモ書きを加える

## ユースケース一覧
- UC-01: PDFファイルを選択・読み込み
- UC-02: ページの並べ替え・削除・回転（グリッド表示）
- UC-03: 複数のPDFを結合して保存
- UC-04: PDFを特定のページで分割して保存
- UC-05: ページ上にテキストや画像を注釈として追加

## スコープ定義
- In-Scope（今回対象）: 
  - ページ操作（結合、分割、削除、回転、並べ替え）
  - 注釈追加（テキスト、画像オーバーレイ）
  - ファイル共有・保存
- Out-of-Scope（今回対象外）: 
  - 既存のテキスト/画像の直接編集・書き換え
  - PDFフォームの入力
  - OCR機能

## 機能要件（機能定義）
- F-01 ファイル管理:
  - 説明: デバイス内のPDFファイルを選択・インポートする
- F-02 ページ編集ビュー:
  - 説明: ページをグリッド表示し、ドラッグ&ドロップで並べ替え、タップで削除/回転を行う
- F-03 結合機能:
  - 説明: 複数のPDFファイルを追加し、1つのファイルとして結合する
- F-04 注釈機能:
  - 説明: 選択したページに対し、テキストや画像をスタンプのように配置する
- F-05 エクスポート:
  - 説明: 編集結果を新しいPDFファイルとして保存・共有する

## 画面設計（概要）
- 主要画面: 
  1. ホーム（ファイル選択/履歴）
  2. 編集ワークスペース（グリッド表示・操作パネル）
  3. 注釈編集画面（プレビュー・ツールバー）
- 画面遷移: ホーム -> ワークスペース -> (保存 or 注釈)
- ナビゲーション原則: シンプルなFAB（Floating Action Button）やボトムシートを活用

## データ要件
- エンティティ定義: PDFドキュメント、ページ情報（サムネイル、メタデータ）
- 永続化: アプリ内一時保存、またはファイルシステムへの直接保存

## 非機能要件
- 性能: 数十ページ程度のPDFならストレスなく操作できること
- セキュリティ: ローカル処理のみとし、サーバーへのアップロードは行わない（プライバシー重視）

## 技術選定（参照）
- 参照ドキュメント: `AI/architecture/technology_stack.md`
- 採用技術: Flutter, `pdf` package (生成・加工), `printing` or `flutter_pdfview` (表示), `file_picker`

## 依存関係
- ライブラリ: `pdf`, `path_provider`, `file_picker`, `flutter_pdfview` (要検証) 

## マイルストーン（仕様策定観点）
- M1: 仕様草案提示（期限）
- M2: 詳細化・合意（期限）
- M3: 第二段階へ移行（条件）

## 受け入れ基準（全体）
- 合意文言: 「仕様内容に合意し、構造計画へ進む」
- 必要ドキュメント: 本仕様書最新版、補助資料（必要に応じて）

## 更新履歴
- YYYY-MM-DD: 初期テンプレート作成
- YYYY-MM-DD: 仕様草案追記
- YYYY-MM-DD: 合意版更新

## 参考・関連
- プロセス詳細（第一段階）:
  - `AI/instructions/new_app/001/project_rules_stage1_step1.md`
  - `AI/instructions/new_app/001/project_rules_stage1_step2.md`
  - `AI/instructions/new_app/001/project_rules_stage1_step3.md`
  - `AI/instructions/new_app/001/project_rules_stage1_step4.md`
- 上位方針: `AI/instructions/project_rules.md`
- アーキテクチャ規約: `AI/architecture/lib/features/features_architecture.md`